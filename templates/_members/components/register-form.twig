{% set user = user ?? null %}

{% embed '_members/includes/form.twig' with {useSprig: true, action:'users/save-user'} %}
    {% block content %}

        {% import '_members/macros/forms.twig' as forms %}

        {{ forms.textField({
            user: user,
            label: 'First Name'|t,
            name: 'firstName',
            required: true
        }) }}


        {{ forms.textField({
            user: user,
            label: 'Last Name'|t,
            name: 'lastName',
            required: true
        }) }}

        {{ forms.textField({
            user: user,
            label: 'Email'|t,
            name: 'email',
            type: 'email',
            required: true
        }) }}

        {{ forms.textField({
            user: user,
            label: 'Password'|t,
            name: 'password',
            required: true,
            type: 'password'
        }) }}


        {{ forms.button('Register'|t, true) }}

        {% if success is defined and success %}
            {% include '_members/includes/message.twig' with {
                type: 'notice',
                message: 'We created your account! Please check your email to verify your email address.'|t
            } only %}
        {% endif %}

    {% endblock %}
{% endembed %}


