{% set breakpointClasses = {
    never: 'flex',
    xl: 'hidden xl:flex',
    lg: 'hidden lg:flex',
    ml: 'hidden ml:flex',
    md: 'hidden md:flex',
    sm: 'hidden sm:flex',
    always: 'hidden'
} %}


<nav x-data="{dropDown: -1}"
     class="{{ breakpointClasses[theme.mobileBreakpoint] }}
             items-center space-y-0 space-x-4 pb-0">

    {% set index = 0 %}

    {% for navEntry in navEntries %}

        {% set children = navEntry.children %}
        {% if children %}
            {% set index = index + 1 %}
            {% include '_layouts/partials/nav_dropdown.twig' with {
                entries: children,
                navEntry,
                index: index
            } only %}
        {% else %}
            <a @mouseenter="dropDown = 0"
               class="nav-link {{ craft.app.request.segment(1) == navEntry.slug ? 'underline' }}"
               href="{{ navEntry.url }}">{{ navEntry.navTitle }}</a>
        {% endif %}

    {% endfor %}

    {% include '_layouts/partials/siteswitcher.twig' %}

</nav>
