{# functions are declared in _layout/partials/darkmode.twig to avoid FLOC #}
<div x-data="{
        theme:user_theme,

        setTheme: function(newTheme) {
            setDarkClass(newTheme);

            if (newTheme == 'media') {
                localStorage.removeItem('theme');
                watchColorSchemeChange();
                }
            else
                localStorage.theme = newTheme;
                // stopWatchColorSchemeChange();
            return true;
        }}"

     x-effect="setTheme(theme)">

    <select id="darkModeSelector" class="h-10 bg-footer-bg dark:bg-footer-bg-dark text-footer-text dark:text-footer-text-dark text-sm" x-model="theme">
        <option value="media">{{ 'System color mode'|t }}</option>
        <option value="light">{{ 'Light color mode'|t }}</option>
        <option value="dark">{{ 'Dark color mode'|t }}</option>
    </select>

</div>
