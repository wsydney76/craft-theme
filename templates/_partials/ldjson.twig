{% if entry is defined and entry %}
    {% cache using key "ldjson_#{entry.site.handle}_#{entry.id}" %}

        {% set image = entry.featuredImage.one ?? siteInfo.featuredImage.one %}

        {% set schema = craft.schema %}


        {% switch entry.section.handle %}

        {% case "article" %}

            {{ schema.article
                .headline(entry.title)
                .alternativeHeadline(entry.teaser ?? '')
                .author(entry.author.fullName)
                .datePublished(entry.postDate|date('Y-m-d'))
                .image(image ? image.url({width: 1920, height: 1080}))
                .publisher(schema.organization.name(siteInfo.copyright))
            |raw
            }}

        {% default %}

            {{ schema.webPage
                .name(entry.title)
                .description(entry.teaser ?? '')
                .image(image ? image.url({width: 1920, height: 1080}))
                .publisher(schema.profilePage.name(siteInfo.copyright))
            |raw
            }}

        {% endswitch %}



    {% endcache %}

{% endif %}
